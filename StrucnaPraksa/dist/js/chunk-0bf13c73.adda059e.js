(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0bf13c73"],{"25f0":function(e,t,n){"use strict";var a=n("6eeb"),r=n("825a"),o=n("d039"),i=n("ad6d"),s="toString",c=RegExp.prototype,l=c[s],u=o((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=l.name!=s;(u||d)&&a(RegExp.prototype,s,(function(){var e=r(this),t=String(e.source),n=e.flags,a=String(void 0===n&&e instanceof RegExp&&!("flags"in c)?i.call(e):n);return"/"+t+"/"+a}),{unsafe:!0})},"3b93":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-button",{staticClass:"m-2",attrs:{variant:"primary"},on:{click:e.showOnlyPredane}},[e._v(" Prikazi studente koji su predali sve dokumente ")]),n("b-button",{staticClass:"m-2",attrs:{variant:"danger"},on:{click:e.showNepredano}},[e._v(" Prikazi studente koji nisu predali sve dokumente ")]),n("br"),e.filterRegex?n("small",[e._v("Pritisnite ocisti da bi prikazali sve studente")]):e._e(),n("b-input-group",{staticClass:"mt-3",attrs:{prepend:"Pretrazite"}},[n("b-form-input",{attrs:{placeholder:"..."},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),n("b-input-group-append",[n("b-button",{attrs:{variant:"info"},on:{click:function(t){e.filter=null,e.filterRegex=null}}},[e._v("Ocisti")])],1)],1),n("b-table",{staticClass:"mt-3",attrs:{busy:e.isLoading,"per-page":"10","current-page":e.currentPage,filtered:"","show-empty":"",small:"",filter:e.filterRegex?e.filterRegex:e.filter,stacked:"md",items:e.studentiItems,fields:e.fields},on:{"update:busy":function(t){e.isLoading=t},filtered:e.onFilter},scopedSlots:e._u([{key:"cell(anketa)",fn:function(t){return[n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],class:"Predano"===t.value?"bg-success p-1":"text-light bg-danger p-1",style:"Predano"===t.value?"border-radius:5px; cursor:pointer;":"border-radius:5px; cursor:not-allowed;",attrs:{title:"Predano"===t.value?"Pregledaj anketu":"Anketa nije predana"},on:{click:function(n){"Predano"===t.value&&e.viewAnketa(t.item.anketa)}}},[n("b",[e._v(e._s(t.value))])])]}},{key:"cell(izvjesce)",fn:function(t){return[n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],class:"Predano"===t.value?"bg-success p-1":"text-light bg-danger p-1",style:"Predano"===t.value?"border-radius:5px; cursor:pointer;":"border-radius:5px; cursor:not-allowed;",attrs:{title:"Predano"===t.value?"Preuzmi izvjesce":"Izvjesce nije predano"},on:{click:function(n){"Predano"===t.value&&e.downloadDocument("Izvjesce",t.item.izvjesce.idUsera)}}},[n("b",[e._v(e._s(t.value))])])]}},{key:"cell(dnevnik)",fn:function(t){return[n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],class:"Predano"===t.value?"bg-success p-1":"text-light bg-danger p-1",style:"Predano"===t.value?"border-radius:5px; cursor:pointer;":"border-radius:5px; cursor:not-allowed;",attrs:{title:"Predano"===t.value?"Preuzmi dnevnik":"Dnevnik nije predan"},on:{click:function(n){"Predano"===t.value&&e.downloadDocument("Dnevnik",t.item.dnevnik.idUsera)}}},[n("b",[e._v(e._s(t.value))])])]}},{key:"cell(actions)",fn:function(t){return[n("b-button",[e._v(" Generate ")])]}}])}),n("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":10,align:"fill",size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}),e.anketaModal?n("Anketa",{attrs:{viewMode:!0,data:e.anketaToView,model:e.anketaModal},on:{closeModal:e.closeAnketaModal}}):e._e()],1)},r=[],o=(n("99af"),n("c975"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("3ca3"),n("5319"),n("ddb0"),n("2b3d"),n("96cf"),n("1da1")),i=n("bbe8"),s={components:{Anketa:i["a"]},data:function(){return{totalRows:0,currentPage:1,anketaModal:!1,anketaToView:null,filterRegex:null,filter:"",isLoading:!1,godina:new Date,fields:[{key:"ime",label:"Ime",sortable:!0,sortDirection:"desc"},{key:"prezime",label:"Prezime",sortable:!0,sortDirection:"desc"},{key:"anketa",label:"Anketa",sortable:!0,sortDirection:"desc",formatter:function(e){return e?"Predano":"Nije predano"},filterByFormatted:!0},{key:"dnevnik",formatter:function(e){return e?"Predano":"Nije predano"},label:"Dnevnik",sortable:!0,filterByFormatted:!0,sortDirection:"desc"},{key:"izvjesce",label:"Izvjesce",sortable:!0,filterByFormatted:!0,formatter:function(e){return e?"Predano":"Nije predano"},sortDirection:"desc"},{key:"actions",label:"Actions"}],studentiItems:null}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getDocuments();case 1:case"end":return t.stop()}}),t)})))()},methods:{onFilter:function(e){this.totalRows=e.length,this.currentPage=1},viewAnketa:function(e){console.log(e),this.anketaToView=e,this.anketaModal=!0},closeAnketaModal:function(){this.anketaModal=!1,this.anketaToView=null},downloadDocument:function(e,t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,o,i,s,c,l,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(e),a.prev=1,a.next=4,n.$axios.get("api/dokumenti/get".concat(e,"Admin?userId=").concat(t),{responseType:"blob"});case 4:r=a.sent,o=window.URL.createObjectURL(new Blob([r.data])),i=document.createElement("a"),i.href=o,s=r.headers["content-disposition"],c="doc.pdf",s&&-1!==s.indexOf("attachment")&&(l=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/,u=l.exec(s),null!=u&&u[1]&&(c=u[1].replace(/['"]/g,""))),i.setAttribute("download",c),document.body.appendChild(i),i.click(),a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](1),console.log(a.t0);case 19:case"end":return a.stop()}}),a,null,[[1,16]])})))()},showOnlyPredane:function(){this.filterRegex=new RegExp("^((?!Nije predano).)*$")},showNepredano:function(){this.filterRegex=new RegExp("Nije predano")},getDocuments:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.godina),t.prev=1,t.next=4,e.$axios.get("api/dokumenti/getDocumentsAdmin?godina=".concat(e.godina.getFullYear()));case 4:n=t.sent,console.log(n),e.studentiItems=n.data.concat(n.data.concat(n.data.concat(n.data))),e.studentiItems.push({anketa:null,izvjesce:null,ime:"OJHAJ",prezime:"HEHEHEHE"}),e.totalRows=e.studentiItems.length,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](1),e.studentiItems=null,console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,11]])})))()}}},c=s,l=n("2877"),u=Object(l["a"])(c,a,r,!1,null,null,null);t["default"]=u.exports},"4d63":function(e,t,n){var a=n("83ab"),r=n("da84"),o=n("94ca"),i=n("7156"),s=n("9bf2").f,c=n("241c").f,l=n("44e7"),u=n("ad6d"),d=n("9f7f"),p=n("6eeb"),f=n("d039"),v=n("69f3").set,g=n("2626"),b=n("b622"),m=b("match"),k=r.RegExp,h=k.prototype,w=/a/g,x=/a/g,y=new k(w)!==w,P=d.UNSUPPORTED_Y,R=a&&o("RegExp",!y||P||f((function(){return x[m]=!1,k(w)!=w||k(x)==x||"/a/i"!=k(w,"i")})));if(R){var j=function(e,t){var n,a=this instanceof j,r=l(e),o=void 0===t;if(!a&&r&&e.constructor===j&&o)return e;y?r&&!o&&(e=e.source):e instanceof j&&(o&&(t=u.call(e)),e=e.source),P&&(n=!!t&&t.indexOf("y")>-1,n&&(t=t.replace(/y/g,"")));var s=i(y?new k(e,t):k(e,t),a?this:h,j);return P&&n&&v(s,{sticky:n}),s},z=function(e){e in j||s(j,e,{configurable:!0,get:function(){return k[e]},set:function(t){k[e]=t}})},_=c(k),D=0;while(_.length>D)z(_[D++]);h.constructor=j,j.prototype=h,p(r,"RegExp",j)}g("RegExp")},7156:function(e,t,n){var a=n("861d"),r=n("d2bb");e.exports=function(e,t,n){var o,i;return r&&"function"==typeof(o=t.constructor)&&o!==n&&a(i=o.prototype)&&i!==n.prototype&&r(e,i),e}}}]);
//# sourceMappingURL=chunk-0bf13c73.adda059e.js.map